<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WebGard</title>

<style>
body{
    margin:0;
    font-family:Tahoma, sans-serif;
    background:#ffffff;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.container{
    text-align:center;
    width:90%;
    max-width:600px;
}

.logo{
    font-size:55px;
    font-weight:bold;
    margin-bottom:30px;
}

.logo span:nth-child(1){color:#4285F4;}
.logo span:nth-child(2){color:#EA4335;}
.logo span:nth-child(3){color:#FBBC05;}
.logo span:nth-child(4){color:#34A853;}

.search-box{
    position:relative;
}

.search-box input{
    width:100%;
    padding:15px 25px;
    border-radius:30px;
    border:1px solid #ddd;
    font-size:16px;
    outline:none;
    transition:0.2s;
}

.search-box input:focus{
    box-shadow:0 2px 8px rgba(0,0,0,0.2);
}

.suggestions{
    text-align:right;
    margin-top:10px;
    font-size:14px;
    color:#555;
}

.mode{
    margin-top:15px;
}

.mode button{
    padding:8px 15px;
    border:none;
    border-radius:20px;
    margin:5px;
    cursor:pointer;
}

.normal{background:#f1f3f4;}
.ai{background:#e8f0fe;}

button.main{
    margin-top:20px;
    padding:10px 30px;
    border:none;
    border-radius:25px;
    background:#f8f9fa;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

    <div class="logo">
        <span>W</span><span>e</span><span>b</span><span>G</span>ard
    </div>

    <div class="search-box">
        <input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ÙˆØ¨â€ŒÚ¯Ø±Ø¯..." oninput="liveSuggest()">
        <div class="suggestions" id="suggestions"></div>
    </div>

    <div class="mode">
        <button class="normal" onclick="setMode('normal')">Ø¬Ø³ØªØ¬ÙˆÛŒ Ø¹Ø§Ø¯ÛŒ</button>
        <button class="ai" onclick="setMode('ai')">Ø­Ø§Ù„Øª Ù‡ÙˆØ´Ù…Ù†Ø¯</button>
    </div>

    <button class="main" onclick="search()">Ø¬Ø³ØªØ¬Ùˆ</button>

</div>

<script>
let mode = "normal";

function setMode(m){
    mode = m;
}

function search(){
    let q = document.getElementById("search").value.trim();
    if(!q) return;

    if(mode === "ai"){
        window.location.href = "/ai?q=" + encodeURIComponent(q);
    } else {
        if(q.includes(".") && !q.includes(" ")){
            if(!q.startsWith("http")){
                q = "https://" + q;
            }
            window.location.href = q;
        } else {
            window.location.href = "https://www.google.com/search?q=" + encodeURIComponent(q);
        }
    }
}

function liveSuggest(){
    let q = document.getElementById("search").value;
    let box = document.getElementById("suggestions");

    if(q.length > 2){
        box.innerHTML = "ðŸ”Ž Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù‡ÙˆØ´Ù…Ù†Ø¯: Ø¨Ù‡ØªØ±ÛŒÙ† Ù†ØªÛŒØ¬Ù‡ Ø¨Ø±Ø§ÛŒ \"" + q + "\"";
    } else {
        box.innerHTML = "";
    }
}

document.getElementById("search").addEventListener("keypress", function(e){
    if(e.key === "Enter"){
        search();
    }
});
</script>

</body>
</html>
